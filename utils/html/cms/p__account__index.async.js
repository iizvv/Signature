(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"8GfK":function(e,t,a){"use strict";a.d(t,"b",function(){return c}),a.d(t,"c",function(){return o}),a.d(t,"d",function(){return r}),a.d(t,"f",function(){return l}),a.d(t,"a",function(){return i}),a.d(t,"e",function(){return u});var n=a("t3Un");function c(){return Object(n["a"])({url:"apple/getAllAppleAccounts",method:"GET",data:{}})}function o(e){var t=e.account,a=e.csr,c=e.iss,o=e.kid,r=e.p8;return Object(n["a"])({url:"apple/insertAppleAccount",method:"POST",data:{account:t,csr:a,iss:c,kid:o,p8:r},timeout:36e5})}function r(e){return Object(n["a"])({url:"apple/deleteById",method:"POST",data:{id:e}})}function l(e,t){return Object(n["a"])({url:"apple/uploadP12",method:"POST",params:{id:t},headers:{"Content-Type":"multipart/form-data"},data:e,timeout:36e5})}function i(e){return Object(n["a"])({url:"device/getAllByAppleId",method:"GET",params:{id:e}})}function u(e){return Object(n["a"])({url:"apple/updateAllAppleUse",method:"POST"})}},cLy6:function(e,t,a){"use strict";a.r(t);a("Mwp2");var n=a("VXEj"),c=(a("Telt"),a("Tckk")),o=(a("P2fV"),a("NJEC")),r=(a("/xke"),a("TeRw")),l=(a("5Dmo"),a("3S7+")),i=(a("+BJd"),a("mr32")),u=(a("IzEo"),a("bx4M")),s=(a("qVdP"),a("jsC+")),d=(a("Pwec"),a("CtXQ")),p=(a("lUTK"),a("BvKs")),m=(a("miYZ"),a("tsqr")),h=(a("2qtc"),a("kLXV")),E=(a("+L6B"),a("2/Rp")),f=a("q1tI"),g=a.n(f),k=a("8GfK"),y=a("3a4m"),b=a.n(y),T=a("7tlc");class O extends g.a.Component{constructor(e){super(e),this.state={accountList:[],loading:!1}}componentDidMount(){this.loadData()}loadData(){this.setState({loading:!0}),Object(k["b"])().then(e=>{console.log(e),this.setState({loading:!1}),this.setState({accountList:[...e.data.data]})}).catch(e=>{this.setState({loading:!1}),console.log(e)})}toNewAccountPage(){b.a.push("/account/new")}render(){return g.a.createElement("div",null,g.a.createElement(u["a"],{bordered:!1},g.a.createElement(E["a"],{type:"dashed",style:{width:"100%",marginBottom:8},icon:"plus",onClick:this.toNewAccountPage},"\u6dfb\u52a0"),g.a.createElement(s["a"],{overlay:g.a.createElement(p["a"],null,g.a.createElement(p["a"].Item,{key:"0",onClick:()=>{h["a"].confirm({title:"\u786e\u5b9a\u91cd\u7f6e\u6240\u6709\u8d26\u53f7\u53ef\u7528\u72b6\u6001?",content:"\u91cd\u7f6e\u540e\uff0c\u6240\u6709\u8d26\u53f7\u5c06\u53d8\u4e3a\u53ef\u7528\u72b6\u6001\u3002",okText:"\u786e\u5b9a",okType:"danger",cancelText:"\u53d6\u6d88",onOk(){var e=m["a"].loading("\u6b63\u5728\u91cd\u7f6e...",0);Object(k["e"])().then(t=>{e(),this.loadData()}).catch(t=>{e()})}})}},"\u91cd\u7f6e\u6240\u6709\u8d26\u53f7\u53ef\u7528\u72b6\u6001")),trigger:["click"]},g.a.createElement(d["a"],{style:{position:"absolute",right:"10px",top:"8px"},type:"setting"}))),g.a.createElement(u["a"],{bordered:!1,style:{marginTop:10}},g.a.createElement(n["a"],{itemLayout:"horizontal",dataSource:this.state.accountList,loading:this.state.loading,renderItem:e=>{var t=!Object(T["isNullOrUndefined"])(e.p12),a=[];return!1===t&&a.push(g.a.createElement(E["a"],{type:"danger",onClick:t=>{b.a.push({pathname:"/account/new",query:{id:e.id}})}},"\u7f3a\u5c11 p12 \u6587\u4ef6")),!1===e.use&&a.push(g.a.createElement(l["a"],{title:"\u65b0\u7684\u4e0b\u8f7d\u5c06\u4e0d\u4f1a\u901a\u8fc7\u6b64\u8d26\u53f7\u7b7e\u540d\u3002"},g.a.createElement(i["a"],{color:"volcano"},"\u8d26\u53f7\u5df2\u505c\u7528"))),a.push(g.a.createElement(E["a"],{type:"link",onClick:t=>{b.a.push({pathname:"/account/detail",query:{id:e.id}})}},"\u8bbe\u5907\u5217\u8868")),a.push(g.a.createElement(o["a"],{title:"\u786e\u5b9a\u79fb\u9664\u8be5\u8d26\u53f7\uff1f",icon:g.a.createElement(d["a"],{type:"question-circle-o",style:{color:"red"}}),okText:"\u79fb\u9664",cancelText:"\u53d6\u6d88",onConfirm:t=>{Object(k["d"])(e.id).then(t=>{r["a"].info({message:'\u5df2\u79fb\u9664 "'.concat(e.account,'"')}),this.loadData()}).catch(e=>{console.log(e)})}},g.a.createElement(E["a"],{type:"link"},"\u79fb\u9664\u8d26\u53f7"))),g.a.createElement(n["a"].Item,{actions:a},g.a.createElement(n["a"].Item.Meta,{avatar:g.a.createElement(c["a"],{icon:"user"}),title:g.a.createElement("span",null,e.account),description:g.a.createElement(g.a.Fragment,null,g.a.createElement("span",null,"\u521b\u5efa\u65f6\u95f4: ",e.create_time)," ",g.a.createElement("span",null,"\u53ef\u7528\u6570\u91cf: ",e.count))}))}})))}}t["default"]=O}}]);